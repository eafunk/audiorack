UPDATE [prefix]queries SET SQLText = "SELECT [prefix]toc.Name AS name, [prefix]artist.Name AS Artist, [prefix]toc.ID AS ItemID FROM ([prefix]toc, [prefix]file) LEFT JOIN [prefix]artist ON ([prefix]artist.ID=[prefix]file.Artist) LEFT JOIN [prefix]category_item ON ([prefix]toc.ID = [prefix]category_item.Item) WHERE [prefix]file.ID = [prefix]toc.ID AND [prefix]category_item.Category IS NULL ORDER BY [prefix]artist.Name" WHERE ID = 53;
UPDATE [prefix]queries SET SQLText = "SELECT FROM_UNIXTIME(MIN([prefix]logs.Time)) AS Played, FROM_UNIXTIME(UNIX_TIMESTAMP([prefix]request.Time)) AS Requested, [prefix]toc.Name AS Name, [prefix]artist.Name AS Artist FROM ([prefix]toc, [prefix]file, [prefix]artist, [prefix]request) LEFT JOIN [prefix]logs ON ([prefix]toc.ID = [prefix]logs.Item AND [prefix]logs.added=0 AND [prefix]logs.Location = [loc-id]) WHERE [prefix]request.Location = [loc-id] AND  [prefix]logs.Time >= UNIX_TIMESTAMP([prefix]request.Time) AND [prefix]toc.ID=[prefix]request.Item AND [prefix]file.ID=[prefix]toc.ID AND [prefix]artist.ID=[prefix]file.Artist GROUP BY [prefix]toc.ID ORDER BY Requested DESC LIMIT 200" WHERE ID = 48;
UPDATE [prefix]queries SET SQLText = "SELECT [prefix]toc.Name AS Name, [prefix]artist.Name AS Artist, [prefix]request.Time AS Requested, [prefix]toc.ID AS ItemID FROM ([prefix]toc, [prefix]file, [prefix]artist, [prefix]request) LEFT JOIN [prefix]logs ON ([prefix]file.Artist = [prefix]logs.ArtistID AND [prefix]logs.Added=0 AND [prefix]logs.Location = [loc-id]) WHERE [prefix]request.Location = [loc-id] AND [prefix]file.ID = [prefix]request.Item AND [prefix]toc.ID = [prefix]file.ID AND [prefix]artist.ID = [prefix]file.Artist AND UNIX_TIMESTAMP() - UNIX_TIMESTAMP([prefix]request.Time) BETWEEN 3600 AND 43200 GROUP BY [prefix]file.ID HAVING (UNIX_TIMESTAMP() - MAX([prefix]logs.Time)) > 43200 ORDER BY Requested LIMIT 20" WHERE ID = 51;
UPDATE [prefix]info SET Value = '2.3' WHERE Property = 'Version';
