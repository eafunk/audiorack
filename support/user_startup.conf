; NOTE: This is the default arserver startup file.  
;  When run at boot time as a daemon, arserver is told to look
;  for a different startup file at /etc/opt/audiorack/ars_startup.conf using the -c option.

; prep-config mixer stereo source count
-i 10
; prep-config mixer stereo bus bus count
-o 4
; prep-config set tcp control port
-p 9550

; The next line creates .audiorack directory in the users home directory if it doesn't already exist
execute mkdir .audiorack

set file_inputs .audiorack/ars_input.conf
set file_log /var/opt/audiorack/logs/arserver.log
set file_outputs .audiorack/ars_output.conf
set file_prefs .audiorack/ars_prefs.conf
set file_fx_dir .audiorack/ 
set file_encoders /opt/audiorack/encoders
set db_prefix ar_
set client_players_visible 8

; This next command will run the carla audio processing plugin host program, if uncommented and Carla is installed.
; To configuring Carla, (1) get arServer up and running. (2) run Carla. (3) set up all you processing as desired
; with processing ports wired to/from arServer ports. (4) Disconnect any Carla to arServer connections. (5) Save 
; Carla settings. (6) (Re)Define arServer input groups to use the Carla outputs that you disconnected prior to saving.
; This sequency is needed to allow arServer to control connections from Carla source to arServer inputs. Otherwise
; Carla will make the connections that were saved, even if arServer hasn't loaded the desired input group yet.
; execute /opt/audiorack/bin/runifnot /tmp/ar_carla /usr/bin/python3 /usr/share/carla/carla --with-appname=/usr/bin/carla --with-libprefix=/usr path/to/saved/carla/configuration-example->.audiorack/fx.carxp

; Load last saved settings
config .audiorack/ars_prefs.conf

; Load line input definitions
config .audiorack/ars_input.conf

; Load audio output set-up
config .audiorack/ars_output.conf

; starting shoutcast stream encoder, if stream.conf file is found
;config Library/Preferences/ars_stream.conf

;echo setting up default players
; preload the Mic-1 line input in player 0
;load 0 input:///Mic-1
;setmeta 0 Name Mic-1

; preload the Mackie line input in player 7
;load 7 input:///Mackie
;setmeta 7 Name Mackie Main Mix
